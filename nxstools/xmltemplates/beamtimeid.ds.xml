<?xml version='1.0'?>
<definition>
  <datasource type="PYEVAL" name="$(name)">
    <result name="result">
cpath = "$(commissiondir)"
ds.result = None      
if ds.$(name)_current and ds.$(name)_commission:
    root = commonblock["__nxroot__"]
    fpath = root.filename
    if fpath.startswith(cpath):
        ds.result = ds.$(name)_commission
    else:
        ds.result = ds.$(name)_current
elif ds.$(name)_current:
    ds.result = ds.$(name)_current
elif ds.$(name)_commission:
    ds.result = ds.$(name)_commission
else:
    ds.result = ds.$(name)_local
    </result>
    $datasources.$(name)_current
    $datasources.$(name)_commission
    $datasources.$(name)_local
  </datasource>
</definition>
